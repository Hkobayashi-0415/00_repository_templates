---
name: worklog-update
description: 作業ログをObsidianに記録し、進捗と経験値を可視化するスキル
---

# Worklog Update

## 1. Purpose

作業内容・判断・学びをログとして記録し、進捗を可視化する。経験値ライブラリとして蓄積し、振り返りや引き継ぎに活用する。

**責務（1つ）**: 作業ログの記録のみ。計画立案や実装は別スキルの責務。

---

## 2. When to Use / When NOT to Use

### ✅ When to Use
- タスク完了時
- 日次作業終了時
- 重要な判断を行った時
- ブロッカー発生時
- フェーズ/スプリント終了時

### ❌ When NOT to Use
- 作業中（作業完了後に記録）
- 機密情報を含む内容（別途セキュア管理）
- 自動生成されるログ（CIログ等は別管理）

---

## 3. Inputs Required

| 項目 | 必須 | 説明 |
|------|:----:|------|
| プロジェクト名 | ✅ | ログの識別に使用 |
| フェーズ番号 | ✅ | 現在のフェーズ |
| 完了タスク | ✅ | 今回完了した作業 |
| 発生課題 | ◯ | 発生した問題・ブロッカー |
| 判断内容 | ◯ | 重要な意思決定とその理由 |
| 次のアクション | ◯ | 次に取り組むべきこと |

---

## 4. Output Format (Markdown)

### 保存先
```
D:\Obsidian\Programming\<PJ>_phase<No>_log_<yymmdd>.md
```

例: `washu_phase2_log_260117.md`

### ログテンプレート

```markdown
---
project: <プロジェクト名>
phase: <フェーズ番号>
date: <YYYY-MM-DD>
author: <作業者>
tags: [worklog, <project-tag>]
---

# Worklog: <プロジェクト名> Phase <No> - <YYYY-MM-DD>

## 📋 本日のサマリー
<1-2文で本日の成果を要約>

---

## ✅ 完了タスク

| タスク | Issue/PR | 成果物 | 備考 |
|--------|----------|--------|------|
| <タスク1> | #123 | `path/to/file` | - |
| <タスク2> | #124 | - | 設計のみ |

---

## 🚧 進行中タスク

| タスク | 進捗 | 残作業 | ブロッカー |
|--------|------|--------|------------|
| <タスク> | 60% | <残り> | <あれば> |

---

## 🔴 課題・ブロッカー

### Issue 1: <課題タイトル>
- **状況**: <何が起きているか>
- **影響**: <影響範囲>
- **対応**: <対応策 / エスカレーション先>
- **ステータス**: 🔴 未解決 / 🟡 対応中 / 🟢 解決済

---

## 💡 判断記録 (Decision Log)

### Decision 1: <判断タイトル>
- **背景**: <なぜこの判断が必要だったか>
- **選択肢**:
  - A: <案A> - メリット/デメリット
  - B: <案B> - メリット/デメリット
- **決定**: <選んだ案>
- **理由**: <選んだ理由>
- **影響**: <この決定による影響>

---

## 📚 学び・気づき (TIL: Today I Learned)

- <学んだこと1>
- <学んだこと2>
- <次回に活かせる教訓>

---

## 🔗 参照リンク

- PR: [#123](link)
- Issue: [#456](link)
- ドキュメント: [設計書](link)

---

## ➡️ 次のアクション

| 優先度 | アクション | 期限 | 担当 |
|--------|------------|------|------|
| 🔴 High | <アクション1> | MM/DD | - |
| 🟡 Med | <アクション2> | MM/DD | - |
| 🟢 Low | <アクション3> | - | - |

---

## 📊 フェーズ進捗

- **完了**: X / Y タスク (Z%)
- **予定通り** / **遅延あり** / **前倒し**
- **次のマイルストーン**: <MS名> (MM/DD)
```

---

## 5. Procedure (Step-by-Step)

```
┌─────────────────────────────────────────────────────────────┐
│ Step 1: ファイル準備                                        │
│   □ 保存先パスを確認                                        │
│     D:\Obsidian\Programming\<PJ>_phase<No>_log_<yymmdd>.md  │
│   □ 既存ファイルがあれば追記、なければ新規作成              │
└─────────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────────┐
│ Step 2: 完了タスクの記録                                    │
│   □ 完了したタスクを列挙                                    │
│   □ 関連するIssue/PR番号を記載                              │
│   □ 成果物（ファイル、URL等）をリンク                       │
└─────────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────────┐
│ Step 3: 進行中タスクの更新                                  │
│   □ 進捗率を更新                                            │
│   □ 残作業を明記                                            │
│   □ ブロッカーがあれば記載                                  │
└─────────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────────┐
│ Step 4: 課題・ブロッカーの記録                              │
│   □ 発生した問題を記載                                      │
│   □ 影響範囲を評価                                          │
│   □ 対応策・ステータスを記載                                │
└─────────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────────┐
│ Step 5: 判断記録                                            │
│   □ 重要な判断を記録                                        │
│   □ 背景・選択肢・決定理由を明記                            │
│   □ 将来の参照のために詳細に                                │
└─────────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────────┐
│ Step 6: 学び・気づきの記録                                  │
│   □ 今日学んだことを記載                                    │
│   □ 次回に活かせる教訓を抽出                                │
└─────────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────────┐
│ Step 7: 次のアクション設定                                  │
│   □ 次に取り組むタスクを列挙                                │
│   □ 優先度と期限を設定                                      │
│   □ フェーズ進捗を更新                                      │
└─────────────────────────────────────────────────────────────┘
```

---

## 6. Definition of Done (DoD)

- [ ] ログファイルが正しいパスに保存されている
- [ ] 日付とプロジェクト情報が正しい
- [ ] 完了タスクが記録されている
- [ ] ブロッカーがあれば記載されている
- [ ] 次のアクションが明確
- [ ] 機密情報が含まれていない

---

## 7. Resources / References

| ファイル | 説明 |
|----------|------|
| `resources/log-examples/` | 過去のログ例 |
| `templates/daily-log.md` | 日次ログテンプレート |
| `templates/phase-summary.md` | フェーズサマリーテンプレート |
| `scripts/create-log.ps1` | ログファイル自動生成（将来用） |

### Obsidian保存先
```
D:\Obsidian\Programming\
├── washu_phase1_log_260115.md
├── washu_phase1_log_260116.md
├── washu_phase2_log_260117.md
└── ...
```

---

## 8. Example Prompts

### Example 1: 日次ログ
```
@worklog-update
今日の作業ログを記録してください。

プロジェクト: washu
フェーズ: 2
完了タスク:
- PR #123 認証機能のマージ
- Issue #456 バグ修正

課題: CIが不安定で3回リトライが必要だった
学び: JWT有効期限の設定方法を理解した
```

### Example 2: ブロッカー記録
```
@worklog-update
ブロッカーが発生したので記録してください。

プロジェクト: washu
フェーズ: 2
ブロッカー: 外部APIがメンテナンス中でテスト不可
影響: 決済機能のテストが完了できない
対応: メンテナンス終了まで他タスクを進める
```

### Example 3: 判断記録
```
@worklog-update
重要な技術判断を記録してください。

プロジェクト: washu
フェーズ: 2
判断内容: データベースをPostgreSQLからMongoDBに変更
背景: スキーマ変更が頻繁に発生するため
選択肢: A) PostgreSQL継続 B) MongoDB移行
決定: B
理由: 開発速度を優先、スキーマレス設計が適している
```
