---
name: phase-planning
description: プロジェクトを複数フェーズに分割し、マイルストーンとタスクを定義するスキル
---

# Phase Planning

## 1. Purpose

プロジェクトの目標を達成可能な単位（フェーズ）に分割し、各フェーズのマイルストーン・タスク・完了条件を明確にする。

**責務（1つ）**: フェーズ構造の設計とタスク分解のみ。実装・レビュー・進捗管理は別スキルの責務。

---

## 2. When to Use / When NOT to Use

### ✅ When to Use
- 新規プロジェクト開始時（キックオフ直後）
- 大きな機能追加の計画時
- 既存計画の見直し・リプランニング時
- ステークホルダーへのロードマップ提示が必要な時

### ❌ When NOT to Use
- 1日以内で完了する小タスク（直接実行）
- 既にフェーズ計画が存在し変更不要な場合
- 緊急のホットフィックス（計画より実行優先）

---

## 3. Inputs Required

| 項目 | 必須 | 説明 |
|------|:----:|------|
| プロジェクト目標 | ✅ | 達成したいゴール（1文で表現可能なもの） |
| 期限 | ✅ | 最終デッドライン |
| リソース | ✅ | 人員、時間、予算などの制約 |
| 成功基準 | ◯ | 何をもって完了とするか |
| 既知のリスク | ◯ | 事前に判明している障害・懸念 |
| 依存関係 | ◯ | 他チーム・外部サービスへの依存 |

---

## 4. Output Format (Markdown)

```markdown
# フェーズ計画: <プロジェクト名>

## 概要
- **目標**: <1文で>
- **期間**: YYYY-MM-DD ～ YYYY-MM-DD
- **リソース**: <人員・予算>

---

## Phase 1: <フェーズ名>（Week 1-2）

### マイルストーン
- [ ] MS1.1: <完了条件を具体的に>
- [ ] MS1.2: <完了条件を具体的に>

### タスク
| ID | タスク | 担当 | 見積 | 依存 |
|----|--------|------|------|------|
| T1.1 | <タスク名> | - | Xh | - |
| T1.2 | <タスク名> | - | Yh | T1.1 |

### リスク
- <リスク> → 対策: <対策>

---

## Phase 2: ...

（同様の構造を繰り返す）

---

## 全体リスクマトリクス

| リスク | 発生確率 | 影響度 | 対策 |
|--------|----------|--------|------|
| <リスク> | High/Med/Low | High/Med/Low | <対策> |

---

## 次のアクション
- [ ] ステークホルダーレビュー
- [ ] 担当アサイン
- [ ] Phase 1 開始
```

---

## 5. Procedure (Step-by-Step)

```
┌─────────────────────────────────────────────────────────────┐
│ Step 1: ゴール明確化                                        │
│   □ 目標を1文で書く                                        │
│   □ 成功基準を3つ以内で定義                                 │
│   □ スコープ外を明記                                        │
└─────────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────────┐
│ Step 2: 制約の整理                                          │
│   □ 期限を確認                                              │
│   □ リソース（人員・予算）を確認                            │
│   □ 依存関係を洗い出し                                      │
└─────────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────────┐
│ Step 3: フェーズ分割                                        │
│   □ 3-5フェーズに分割（推奨）                               │
│   □ 各フェーズに名前と期間を設定                            │
│   □ フェーズ間の依存を確認                                  │
└─────────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────────┐
│ Step 4: マイルストーン設定                                  │
│   □ 各フェーズに1-3個のマイルストーン                       │
│   □ 完了条件を「〇〇が△△できる状態」で記述                 │
│   □ 検証可能な条件にする                                    │
└─────────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────────┐
│ Step 5: タスク分解                                          │
│   □ 各マイルストーンをタスクに分解                          │
│   □ 1タスク = 1日以内（8h以内）                              │
│   □ 見積もりと依存関係を記入                                │
└─────────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────────┐
│ Step 6: リスク評価                                          │
│   □ 各フェーズのリスクを列挙                                │
│   □ 発生確率と影響度を評価                                  │
│   □ 対策を記入                                              │
└─────────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────────┐
│ Step 7: レビュー＆承認                                      │
│   □ ステークホルダーに共有                                  │
│   □ フィードバックを反映                                    │
│   □ 承認を得る                                              │
└─────────────────────────────────────────────────────────────┘
```

---

## 6. Definition of Done (DoD)

- [ ] 全フェーズが定義されている（3-5フェーズ推奨）
- [ ] 各フェーズに1つ以上のマイルストーンがある
- [ ] マイルストーンの完了条件が検証可能である
- [ ] タスクは1日以内の粒度に分解されている
- [ ] リスクと対策が記載されている
- [ ] ステークホルダーの承認を得ている

---

## 7. Resources / References

| ファイル | 説明 |
|----------|------|
| `resources/` | 参考資料、過去の計画例 |
| `templates/phase-plan-template.md` | 空のテンプレート（後で作成） |
| `scripts/` | 自動化スクリプト（将来用） |

---

## 8. Example Prompts

### Example 1: 新機能開発
```
@phase-planning
新機能「ユーザー認証」のMVP計画を作成してください。

目標: JWTベースのログイン機能をリリース
期限: 2週間後
リソース: エンジニア2名（フルタイム）
成功基準: 
- ログイン/ログアウトが動作する
- パスワードリセットが動作する
- 本番環境にデプロイ済み
```

### Example 2: リファクタリング
```
@phase-planning
レガシーコードのリファクタリング計画を作成してください。

目標: モノリスからマイクロサービスへの段階的移行
期限: 3ヶ月
リソース: エンジニア3名（50%稼働）
制約: 本番稼働を止めない
```

### Example 3: 技術負債解消
```
@phase-planning
テストカバレッジ改善の計画を作成してください。

目標: カバレッジを30%→70%に向上
期限: 1ヶ月
優先: ビジネスクリティカルなモジュールから
```
